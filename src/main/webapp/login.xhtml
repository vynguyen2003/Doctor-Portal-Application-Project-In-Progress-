<?xml version="1.0" encoding="UTF-8"?>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/JSP_Servlet/XHtml.xhtml to edit this template
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://xmlns.jcp.org/jsf/html"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      >
    <h:head>
        <title>Login</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <h:outputStylesheet library="css" name="styles.css" /> 
    </h:head>
    <h:body>
        <h:panelGroup layout="block">
            
            <h:form styleClass="formContainer">
                <div class="formContent">
                   <h2>Login</h2>
                   <h:outputLabel for="username" value="Username:" />
                   <h:inputText id="username" value="#{loginRegistrationBean.username}" required="true" 
                                requiredMessage="Username is required!"
                                validatorMessage="Invalid Username Format!">
                       <f:validateRegex pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"/>
                   </h:inputText>
                   <h:message for="username" styleClass="errorMessage" />
                      
                   <br/><br/>
                   <h:outputLabel for="password" value="Password:" />
                   <h:inputSecret id="password" value="#{loginRegistrationBean.password}" required="true" 
                                  requiredMessage="Password is required!"
                                  validator ="#{loginRegistrationBean.validatePasswordLogin}" />
                   <h:message for="password" styleClass="errorMessage" />
                   
                   <br/><br/>
                   <h:commandButton id="login" action="#{loginRegistrationBean.login}" value="Login" styleClass="loginButton"/>
                   <p>
                       Don't have an account yet? 
                       <h:commandLink value="Register Now" action="#{loginRegistrationBean.goToRegisterPage}" immediate="true" />  <!--use immediate = true to skip validation since commandlink triggers to submit the form-->
                   </p>
                   <h:outputText value="#{loginRegistrationBean.result}" styleClass="result" rendered="#{loginRegistrationBean.renderResult}" />
                </div>
                
                <div class="loginImage">
                    <h:graphicImage library="images" name="login3.jpg" styleClass="image"/>
                </div>
                
            </h:form>

        </h:panelGroup>
    </h:body>
</html>
